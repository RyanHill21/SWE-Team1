<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Login Page</title>
  <link rel="stylesheet" href="LoginStyle.css" />
  <!-- Font Awesome CDN -->
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.2/css/all.min.css" integrity="sha512-..." crossorigin="anonymous" referrerpolicy="no-referrer" />
</head>
<body>

<div class="login-container">
  <h2>Login to StudyBuddy</h2>

  <form>
    <div class="input-group">
      <label for="email">Email</label>
      <input type="email" id="email" placeholder="Enter your email" required>
    </div>

    <div class="input-group password-group">
      <label for="password">Password</label>
      <input type="password" id="password" placeholder="Enter your password" required>
      <i class="fa-solid fa-eye toggle-password" id="togglePassword"></i>
    </div>

    <button type="submit" class="btn">Sign In</button>

    <p class="signup-text">
      Don’t have an account? <a href="SignUpPage.html">Sign up</a>
    </p>
  </form>
</div>

<script>
  document.addEventListener("DOMContentLoaded", () => {
    const form = document.querySelector("form");
    const container = document.querySelector(".login-container");

    const emailInput = document.getElementById("email");
    const passwordInput = document.getElementById("password");
    const togglePassword = document.getElementById("togglePassword");

    // Fake login database
    const accounts = {
      "test@example.com": "mypassword123",
      "john@gmail.com": "johnpass",
      "braden@site.com": "abc123"
    };

    // Toggle password visibility
    togglePassword.addEventListener("click", () => {
      const type = passwordInput.type === "password" ? "text" : "password";
      passwordInput.type = type;
      togglePassword.classList.toggle("fa-eye");
      togglePassword.classList.toggle("fa-eye-slash");
    });

    form.addEventListener("submit", function (event) {
      event.preventDefault();

      const email = emailInput.value.trim();
      const password = passwordInput.value.trim();

      // Check if email exists
      if (!accounts[email]) {
        alert("This email is not registered.");
        return;
      }

      // Check if password matches
      if (accounts[email] !== password) {
        alert("Incorrect password for this email.");
        return;
      }

      // SUCCESS → replace container content with spinner/message
      container.innerHTML = `
                    <div class="spinner"></div>
                    <div class="logging-text">Logging you in...</div>
                `;

      // OPTIONAL redirect after 2 seconds
      // setTimeout(() => {
      //     window.location.href = "dashboard.html";
      // }, 2000);
    });
  });
</script>
</body>
</html>

